version: "3.7"

services:
  minecraft:
    image: itzg/minecraft-server
    container_name: minecraftserver
    ports:
    - 25565:25565
    environment:
      NAME: minecraftserver
      EULA: "TRUE"
      TYPE: FORGE
      VERSION: 1.15.2
      FORGEVERSION: 31.1.10
    volumes:
      # attach local host directory "mods" in same directory as this compose file
      # all mods in this directory get copied into /data/mods at startup
      - ./mods:/mods:ro
      
    healthcheck:
      test: mc-monitor status --host localhost --port 25565
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
